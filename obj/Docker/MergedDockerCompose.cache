services:
  db:
    environment:
      MYSQL_DATABASE: accountowner
      MYSQL_PASSWORD: dbuserpassword
      MYSQL_RANDOM_ROOT_PASSWORD: 1
      MYSQL_USER: dbuser
    image: mysql:5.7
    restart: always
    volumes:
    - C:\Projetos\storecore.backend\_MySQL_Init_Script:/docker-entrypoint-initdb.d:rw
    - dbdata:/var/lib/mysql:rw
  storecore.backend:
    build:
      context: C:\Projetos\storecore.backend
    depends_on:
    - db
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    image: codemazeblog/accountownerapp
    ports:
    - published: 8080
      target: 80
    - target: 80
version: '3.4'
volumes:
  dbdata: {}